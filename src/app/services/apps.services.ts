import { Injectable } from "@angular/core";
import { App } from "../models/apps.model";

@Injectable({
    providedIn: 'root'
})

export class AppsService {

    apps: App[] = [
        {
            id: 1,
            title: 'identity',
            icon: {
                "viewbox": '0 0 988 988',
                "d":    `M928,109.5H60c-33.1,0-60,26.9-60,60v649c0,33.1,26.9,60,60,60h868c33.1,0,60-26.9,60-60v-649
                        C988,136.4,961.1,109.5,928,109.5z M470.5,671.7c0,24.399-85.8,44.2-192.5,44.7C171.3,715.9,85.5,696.1,85.5,671.7v-93.2
                        c0-32.5,26.3-58.8,58.8-58.8h62.3c14,0,18.9-11.9,16.2-24.101c-3.2-14.399-16.3-23.199-25.6-33.6c-22.5-25.3-39.7-55.3-39.7-90
                        c0-66.5,53.9-120.4,120.4-120.4c0.1,0,0.2,0,0.2,0c0.1,0,0.2,0,0.2,0c66.5,0,120.4,53.9,120.4,120.4c0,34.7-17.2,64.7-39.7,90
                        c-9.3,10.4-22.5,19.3-25.6,33.6C330.7,507.9,335.5,519.7,349.6,519.7H411.9c32.5,0,58.8,26.3,58.8,58.8v93.2H470.5z M859.4,642.5
                        h-264c-22.101,0-40-17.9-40-40s17.899-40,40-40h264c22.1,0,40,17.9,40,40S881.5,642.5,859.4,642.5z M859.4,405.5h-264
                        c-22.101,0-40-17.9-40-40s17.899-40,40-40h264c22.1,0,40,17.9,40,40S881.5,405.5,859.4,405.5z`
            },
            type: 'app',
            win_status: {
                "opened": true,
                "reduced": false,
                "maximized": false,
                "focused": true,
                "position": 'translate3d(150px, 150px, 0px)',
                "width": 611,
                "height": 329,
                "resizable": false,
                "reducable": false,
                "openable": true
            },
            shortcut_status!: {
                "launcher": false,
                "launcher_pos": 0,
                "desktop": true,
                "desktop_pos": 0
            }
        },
        {
            id: 2,
            title: 'files',
            icon: {
                "viewbox": '0 0 124 124',
                "d":    `M118,25.5H62v-4c0-3.3-2.7-6-6-6H6c-3.3,0-6,2.7-6,6v10.2v6.5v64.3c0,3.3,2.7,6,6,6h111c3.8,0,7-3.2,7-7v-70
                        C124,28.2,121.3,25.5,118,25.5z`
            },
            type: 'explorer',
            win_status: {
                "opened": false,
                "reduced": false,
                "maximized": false,
                "focused": false,
                "position": 'translate3d(120px, 120px, 0px)',
                "width": 611,
                "height": 329,
                "resizable": true,
                "reducable": true,
                "openable": true
            },
            shortcut_status!: {
                "launcher": true,
                "launcher_pos": 1,
                "desktop": false,
                "desktop_pos": 0
            }
        },
        {
            id: 3,
            title: 'browser',
            icon: {
                "viewbox": '0 0 980 980',
                "d":    `M836.5,143.6c-45-45-97.399-80.3-155.7-105C620.3,13,556.101,0,490,0c-66.1,0-130.3,13-190.8,38.5
                        c-58.4,24.7-110.8,60-155.7,105c-45,45-80.3,97.4-105,155.7C12.9,359.7,0,423.8,0,490s13,130.3,38.5,190.8
                        c24.7,58.4,60,110.801,105,155.7c45,45,97.4,80.3,155.7,105C359.7,967.101,423.8,980,490,980s130.3-13,190.8-38.5
                        c58.4-24.7,110.801-60,155.7-105c45-45,80.3-97.399,105-155.7C967.101,620.3,980,556.2,980,490s-13-130.3-38.5-190.8
                        C916.8,240.9,881.5,188.5,836.5,143.6z M898.101,450.101H763C760.2,388.8,750.8,329.9,735.4,276c29.7-9.2,57.2-20,82.3-32.4
                        C861.9,302.2,890.601,373,898.101,450.101z M530,104.9c8.9,4.1,17.601,9.5,26.3,16.3c23.2,18.2,45.2,46,63.801,80.4
                        c3,5.6,6,11.4,8.8,17.4c-31.7,5.4-65,9-99,10.6V104.9H530z M359.7,201.6c18.6-34.5,40.7-62.3,63.8-80.4
                        c8.7-6.8,17.5-12.3,26.4-16.4v124.8C415.8,228,382.5,224.5,350.8,219C353.8,213.1,356.7,207.3,359.7,201.6z M313.4,329.3
                        c2.7-11.7,5.6-23.1,8.8-34.2c41,7.9,83.8,12.7,127.8,14.6V450H297C299.101,408.4,304.601,367.9,313.4,329.3z M450,530.101v140.3
                        c-43.8,1.8-86.399,6.7-127.3,14.5c-3.4-11.601-6.5-23.5-9.3-35.8c-8.7-38-14.101-77.9-16.3-119H450z M450,750.5v123.101
                        c-8.899-4.101-17.7-9.5-26.399-16.4c-23.2-18.2-45.2-46-63.801-80.4c-2.8-5.1-5.5-10.399-8.1-15.8
                        C383.101,755.601,416.2,752.101,450,750.5z M620.2,776.8c-18.6,34.5-40.7,62.301-63.8,80.4c-8.7,6.8-17.5,12.2-26.3,16.3v-123
                        c33.8,1.601,66.8,5.101,98.199,10.4C625.601,766.3,623,771.601,620.2,776.8z M666.5,649.101c-2.8,12.3-5.899,24.199-9.3,35.8
                        c-40.8-7.8-83.4-12.601-127.2-14.5v-140.3h152.8C680.7,571.101,675.2,611,666.5,649.101z M530,450.101V309.7
                        c43.9-1.8,86.7-6.7,127.7-14.6c3.2,11.1,6.2,22.5,8.8,34.2c8.8,38.6,14.3,79,16.4,120.7H530V450.101z M760.5,181.9
                        c-16.3,6.9-33.7,13.1-52,18.6c-5.6-12.8-11.5-25.1-17.899-36.9c-9-16.6-18.5-31.9-28.7-45.9C697.9,134.3,731,156,760.5,181.9z
                        M318,117.8c-10.1,14-19.7,29.3-28.6,45.9c-6.4,11.8-12.3,24.1-17.9,36.9c-18.3-5.5-35.6-11.7-51.9-18.6
                        C248.9,156.1,282,134.4,318,117.8z M162.3,243.6c25,12.4,52.5,23.2,82.2,32.3c-15.4,53.9-24.8,112.8-27.6,174.1h-135
                        C89.4,373,118.2,302.2,162.3,243.6z M81.9,530.101H217c2.9,61.3,12.5,120.199,27.9,174c-29.9,9.199-57.5,20-82.7,32.5
                        C118.2,677.9,89.4,607.101,81.9,530.101z M219.5,798.2c16.4-7,34-13.3,52.5-18.8c5.4,12.2,11.1,24,17.3,35.399
                        c9.5,17.601,19.7,33.801,30.5,48.5C283.2,846.5,249.5,824.5,219.5,798.2z M660,863.3c10.9-14.699,21.101-30.899,30.601-48.5
                        c6.1-11.3,11.899-23.199,17.3-35.399c18.6,5.6,36.2,11.899,52.6,18.899C730.5,824.5,696.7,846.5,660,863.3z M817.7,736.5
                        c-25.2-12.399-52.8-23.3-82.8-32.5c15.5-53.8,25-112.7,27.899-173.899H898C890.601,607.101,861.9,677.9,817.7,736.5z`
            },
            type: 'app',
            win_status: {
                "opened": false,
                "reduced": false,
                "maximized": false,
                "focused": false,
                "position": 'translate3d(100px, 100px, 0px)',
                "width": 611,
                "height": 329,
                "resizable": true,
                "reducable": true,
                "openable": false
            },
            shortcut_status!: {
                "launcher": true,
                "launcher_pos": 0,
                "desktop": false,
                "desktop_pos": 0
            }
        },
        {
            id: 4,
            title: 'terminal',
            icon: {
                "viewbox": '0 0 122.3 122.3',
                'd':    `M116.3,15.15H6c-3.3,0-6,2.7-6,6v80c0,3.3,2.7,6,6,6h110.3c3.3,0,6-2.7,6-6v-80C122.3,17.85,119.6,15.15,116.3,15.15z
                        M42.6,57.75l-19.7,19.7c-1.7,1.7-4.2,2.3-6.3,1.4c-4.3-1.8-5-7-2.1-9.9l11.2-11.2c2.3-2.3,2.3-6.1,0-8.5l-11.3-11.2
                        c-2.9-2.9-2.2-8.1,2.1-9.9c2.2-0.9,4.7-0.3,6.3,1.4l19.7,19.7c1.2,1.2,1.8,2.7,1.8,4.2S43.8,56.55,42.6,57.75z M86.5,79.15h-36
                        c-3.3,0-6-2.7-6-6s2.7-6,6-6h36c3.3,0,6,2.7,6,6S89.8,79.15,86.5,79.15z`
            },
            type: 'other',
            win_status: {
                "opened": false,
                "reduced": false,
                "maximized": false,
                "focused": false,
                "position": 'translate3d(170px, 170px, 0px)',
                "width": 611,
                "height": 329,
                "resizable": true,
                "reducable": true,
                "openable": true
            },
            shortcut_status!: {
                "launcher": true,
                "launcher_pos": 2,
                "desktop": false,
                "desktop_pos": 0
            }
        },
        {
            id: 5,
            title: 'all',
            icon: {
                "viewbox" : '0 0 965.199 965.199',
                "d":    `M263.85,30c0-16.6-13.4-30-30-30h-202c-16.6,0-30,13.4-30,30v202.1c0,16.6,13.4,30,30,30h202.1c16.6,0,30-13.4,30-30V30
                        H263.85z 
                        M613.55,30c0-16.6-13.4-30-30-30h-202c-16.6,0-30,13.4-30,30v202.1c0,16.6,13.4,30,30,30h202c16.6,0,30-13.4,30-30V30z 
                        M963.25,30c0-16.6-13.4-30-30-30h-202c-16.601,0-30,13.4-30,30v202.1c0,16.6,13.399,30,30,30h202.1c16.601,0,30-13.4,30-30
                        V30H963.25z 
                        M263.85,381.6c0-16.6-13.4-30-30-30h-202c-16.6,0-30,13.4-30,30v202c0,16.6,13.4,30,30,30h202.1c16.6,0,30-13.4,30-30v-202
                        H263.85z 
                        M613.55,381.6c0-16.6-13.4-30-30-30h-202c-16.6,0-30,13.4-30,30v202c0,16.6,13.4,30,30,30h202c16.6,0,30-13.4,30-30V381.6z 
                        M963.25,381.6c0-16.6-13.4-30-30-30h-202c-16.601,0-30,13.4-30,30v202c0,16.6,13.399,30,30,30h202.1
                        c16.601,0,30-13.4,30-30v-202H963.25z 
                        M233.85,703.1h-202c-16.6,0-30,13.4-30,30v202.1c0,16.602,13.4,30,30,30h202.1c16.6,0,30-13.398,30-30V733.1
                        C263.85,716.6,250.45,703.1,233.85,703.1z 
                        M583.55,703.1h-202c-16.6,0-30,13.4-30,30v202.1c0,16.602,13.4,30,30,30h202c16.6,0,30-13.398,30-30V733.1
                        C613.55,716.6,600.149,703.1,583.55,703.1z 
                        M933.25,703.1h-202c-16.601,0-30,13.4-30,30v202.1c0,16.602,13.399,30,30,30h202.1c16.601,0,30-13.398,30-30V733.1
                        C963.25,716.6,949.85,703.1,933.25,703.1z`
            },
            type: 'menu',
            win_status: {
                "opened": false,
                "reduced": false,
                "maximized": false,
                "focused": false,
                "position": '',
                "width": 0,
                "height": 0,
                "resizable": false,
                "reducable": false,
                "openable": true
            },
            shortcut_status!: {
                "launcher": false,
                "launcher_pos": 0,
                "desktop": false,
                "desktop_pos": 0
            }
        }
    ];

    icons: any = [
        {
            previous: {
                "width": 16,
                "height": 16,
                "d": "M10 0c-.69.874-1.397 1.757-2.008 2.656-.679 1-1.287 1.972-1.825 2.912C5.67 6.436 5.297 7.342 5 8c.297.658.67 1.564 1.167 2.432a45.19 45.19 0 0 0 1.825 2.912c.61.9 1.317 1.782 2.008 2.656v-1.49c-.4-.524-.837-1.062-1.222-1.625a32.845 32.845 0 0 1-1.37-2.18 39.196 39.196 0 0 1-1.285-2.5v-.001L6.027 8l.096-.203c.334-.71.852-1.747 1.285-2.501a33.18 33.18 0 0 1 1.37-2.181c.385-.562.822-1.1 1.222-1.625V0z"
            },
            next: {
                "width": 16,
                "height": 16,
                "d": "M6 0c.69.874 1.397 1.757 2.008 2.656.679 1 1.287 1.972 1.825 2.912.497.868.87 1.774 1.167 2.432-.297.658-.67 1.564-1.167 2.432a44.816 44.816 0 0 1-1.825 2.912c-.61.9-1.317 1.782-2.008 2.656v-1.49c.4-.524.837-1.062 1.222-1.625.486-.71.942-1.437 1.37-2.18.433-.755.95-1.792 1.285-2.5v-.001L9.973 8l-.096-.203a39.108 39.108 0 0 0-1.285-2.501 32.873 32.873 0 0 0-1.37-2.181C6.837 2.553 6.4 2.015 6 1.49V0z"
            },
            house: {
                "width": 16,
                "height": 16,
                "d": `  M14 5V3h-2.002z 
                        M2 7v8h9v-1H3V6.333zm11.002-1L13 15h1V7z 
                        M8 8.986a8.47 8.47 0 0 1 .607-.122 5.24 5.24 0 0 1 .872-.064c.295 0 .54.043.735.129.195.08.35.197.465.35.119.147.202.326.25.535.047.21.071.44.071.693V14.2H8z 
                        M8 .293L.146 8.146l.708.708L8 1.707l7.146 7.147.708-.708z`
            },
            dropdown: {
                "width": 16,
                "height": 16,
                "d": "m13 6-5 5-5-5z"
            },
            search: {
                "width": 16,
                "height": 16,
                "d": "M7 1C3.69 1 1 3.69 1 7s2.69 6 6 6a5.948 5.948 0 0 0 3.664-1.273l2.863 2.863 1.063-1.063-2.863-2.863A5.949 5.949 0 0 0 13 7c0-3.31-2.69-6-6-6zm0 1a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5z"
            },
            list: {
                "width": 16,
                "height": 16,
                "d": "M2 2v3h3V2zm1 1h1v1H3zm3 0v1h8V3zM2 6v3h3V6zm1 1h1v1H3zm3 0v1h8V7zm-4 3v3h3v-3zm1 1h1v1H3zm3 0v1h8v-1z"
            },
            menu: {
                "width": 16,
                "height": 16,
                "d": "M3 3v1h10V3zm0 4v1h10V7zm0 4v1h10v-1z"
            },
        }
    ];

    getAllApps(): App[] {
        return this.apps;
    }

    getAppById(appId: number): App {
        const app = this.apps.find(app => app.id === appId);
        if(!app) {
            throw new Error('App not found!');
        } else {
            return app;
        }
    }

    getLauncherApps(): App[] {
        let launcherApps: App[] = [];
        for(const app of this.apps)
        {
            if(app.shortcut_status.launcher === true)
            {
                launcherApps[app.shortcut_status.launcher_pos] = app;
            }
        }
        return launcherApps;
    }

    getDesktopApps(): App[] {
        let desktopApps: App[] = [];
        for(const app of this.apps)
        {
            if(app.shortcut_status.desktop === true)
            {
                desktopApps[app.shortcut_status.desktop_pos] = app;
            }
        }
        return desktopApps;
    }

    unfocusAll(): void{
        for (const app of this.apps) {
            app.win_status.focused = false;
        }
    }
}